<html>
    <head>
        <title> Pnuemonia Prediction using Machine Learning </title>
        <link rel = "stylesheet" href = "style.css">
    </head>

    <body>
        <div class = "container">
            <div class = "menu">
                <ul>
                    <li class = "logo"> <img src = "images/pneumonia.png"> </li>
                    <li class = "active"> Home - Pneumonia Detection </li>
                    <li> Contact Aravind </li>
                </ul>
            </div>
            <div class = "banner">
                    <div class = "app-text">
                        <h1> PWSkills Internship Project </h1>
                        <h3> by Aravind Sridharan </h3>
                        <p> Upload a gray-scale chest x-ray in ".jpeg" format <br> to predict 
                            whether or not the x-ray shows Pneumonia </p>
                        
                        <form class = "choose-file">

                            <input type="file" id="inputxray" accept="image/jpeg">
                                
                        </form>
                        
                        <script>
                            function showpred() {
                                let predresponse = fetch("https://bwlwkhjj28.execute-api.ap-south-1.amazonaws.com/Production/predict-pneumonia");
                                predresponse.then(res => res.text())
                                            .then(d => console.log(d))
                                            .catch(error => {
                                                                if (error instanceof TypeError && error.message.includes('API key')) 
                                                                {
                                                                    console.error('Invalid API key:', error);
                                                                } 
                                                                else 
                                                                {
                                                                    console.error('There was a problem with the Fetch operation:', error);
                                                                }
                                                            });
                            }
                        </script>                    
                        
                        <button class = "predictbutton" onclick="showpred()"> Predict! >> </button> 
                        
                        <p id = "result">                        
                        </p>                      
                        
                    </div>
                    <div class = "app-picture">
                        <img src = "images/websiteimage.jpg">
                    </div>
            </div>
        </div>
    </body>


</html>